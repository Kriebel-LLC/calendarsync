{
  "version": "5",
  "dialect": "sqlite",
  "id": "eeb44db2-0a64-4258-bc96-140ec2961b4c",
  "prevId": "b5522eea-ae7b-4918-abb2-adb620f94b5c",
  "tables": {
    "calendar_connections": {
      "name": "calendar_connections",
      "columns": {
        "id": {
          "name": "id",
          "type": "text(191)",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "google_email": {
          "name": "google_email",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "token_expires_at": {
          "name": "token_expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "selected_calendar_ids": {
          "name": "selected_calendar_ids",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "calendar_connections_user_id_idx": {
          "name": "calendar_connections_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "calendar_connections_user_email_key": {
          "name": "calendar_connections_user_email_key",
          "columns": [
            "user_id",
            "google_email"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "destinations": {
      "name": "destinations",
      "columns": {
        "id": {
          "name": "id",
          "type": "text(191)",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "config": {
          "name": "config",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "destinations_user_id_idx": {
          "name": "destinations_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "org_invites": {
      "name": "org_invites",
      "columns": {
        "id": {
          "name": "id",
          "type": "text(191)",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "token": {
          "name": "token",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expires": {
          "name": "expires",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "sender_user_id": {
          "name": "sender_user_id",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "org_id": {
          "name": "org_id",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'read'"
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "token_org_invites_id_key": {
          "name": "token_org_invites_id_key",
          "columns": [
            "token"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "org_users": {
      "name": "org_users",
      "columns": {
        "id": {
          "name": "id",
          "type": "text(191)",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'read'"
        },
        "org_id": {
          "name": "org_id",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "orgs": {
      "name": "orgs",
      "columns": {
        "id": {
          "name": "id",
          "type": "text(191)",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "plan": {
          "name": "plan",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'free'"
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "orgs_stripe_customer_id_key": {
          "name": "orgs_stripe_customer_id_key",
          "columns": [
            "stripe_customer_id"
          ],
          "isUnique": true
        },
        "orgs_name_id_key": {
          "name": "orgs_name_id_key",
          "columns": [
            "name"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sync_configs": {
      "name": "sync_configs",
      "columns": {
        "id": {
          "name": "id",
          "type": "text(191)",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "calendar_connection_id": {
          "name": "calendar_connection_id",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "destination_id": {
          "name": "destination_id",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "enabled": {
          "name": "enabled",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "field_mapping": {
          "name": "field_mapping",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "filters": {
          "name": "filters",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sync_interval_minutes": {
          "name": "sync_interval_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 60
        },
        "lookback_days": {
          "name": "lookback_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 7
        },
        "lookahead_days": {
          "name": "lookahead_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 30
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "sync_configs_user_id_idx": {
          "name": "sync_configs_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "sync_configs_calendar_connection_id_idx": {
          "name": "sync_configs_calendar_connection_id_idx",
          "columns": [
            "calendar_connection_id"
          ],
          "isUnique": false
        },
        "sync_configs_destination_id_idx": {
          "name": "sync_configs_destination_id_idx",
          "columns": [
            "destination_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sync_history": {
      "name": "sync_history",
      "columns": {
        "id": {
          "name": "id",
          "type": "text(191)",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "sync_config_id": {
          "name": "sync_config_id",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "events_processed": {
          "name": "events_processed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "events_created": {
          "name": "events_created",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "events_updated": {
          "name": "events_updated",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "events_deleted": {
          "name": "events_deleted",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "started_at": {
          "name": "started_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "sync_history_sync_config_id_idx": {
          "name": "sync_history_sync_config_id_idx",
          "columns": [
            "sync_config_id"
          ],
          "isUnique": false
        },
        "sync_history_started_at_idx": {
          "name": "sync_history_started_at_idx",
          "columns": [
            "started_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "text(191)",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "stripe_price_id": {
          "name": "stripe_price_id",
          "type": "text(191)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "stripe_current_period_end": {
          "name": "stripe_current_period_end",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "users_stripe_customer_id_key": {
          "name": "users_stripe_customer_id_key",
          "columns": [
            "stripe_customer_id"
          ],
          "isUnique": true
        },
        "users_stripe_subscription_id_key": {
          "name": "users_stripe_subscription_id_key",
          "columns": [
            "stripe_subscription_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    }
  },
  "enums": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  }
}